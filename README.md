# 거북이상담소: HTP 기반 그림심리 분석 & AI 페르소나 챗봇 플랫폼 🐢🧠

## 🔍 프로젝트 개요

**HTP 기반 심리 분석과 AI 챗봇을 결합한 비대면 정서 지원 서비스**

- 사용자가 업로드한 '집-나무-사람' 그림을 기반으로 심리적 특징과 감정 상태를 분석
- 감정 키워드 기반 유형 분류(추진형, 관계형, 안정형, 쾌락형, 내면형)
- 유형별 맞춤형 AI 페르소나 챗봇과 연결 → 공감 대화 및 셀프케어 솔루션 제공

## 🎯 목표

- **HTP 분석 자동화**: YOLO + OpenCV + GPT-4o로 이미지 해석 자동화
- **감정 유형 분류**: 감정 키워드 → 유형 스코어링 → ML 기반 최종 분류
- **RAG 기반 챗봇**: 유형별 RAG 문서를 기반으로 GPT-4o 챗봇이 상담 수행

---

## 💡 기능 요약

### 1. 이미지 업로드 → 자동 분석
- YOLO로 객체 탐지: 집, 나무, 사람
- OpenCV로 세부 요소(눈 크기, 창문 수 등) 수치화
- GPT-4o가 해석 생성

### 2. 감정 키워드 추출 & 유형 분류
- 해석에서 감정 키워드 파싱
- `.md` 또는 `.json` 기반 키워드-유형 매핑 사용
- 가장 높은 점수의 유형 선택

### 3. 페르소나 챗봇 연결
- 유형별 상담 언어 & RAG 문서 반영
- 정서 피드백 + 셀프케어 전략 제시

---

## 📌 분석 예시 요약 (사용자 피드백용)

> 전체적으로 **안정성과 자기 표현 사이의 갈등**이 느껴졌습니다.  
> 단순한 인물 표현은 자아에 대한 불확실감이나 감정 억제를 시사할 수 있으며,  
> 집은 안정과 질서, 나무는 창의성과 성장에 대한 태도를 암시합니다.  
> 사용자는 외적으로는 균형을 지향하지만 내면에서는 감정 표현의 욕구와 충돌이 있을 수 있습니다.

---

## 📁 폴더 구조 (예시)

```
📂model
├── run_scoring_with_similarity.py    # 유사도 기반 감정 키워드 스코어링
├── analyze_images_with_gpt.py        # GPT 프롬프트 및 해석 생성
├── crop_by_labels.py                 # YOLO 탐지 후 객체 분할
├── emotion_keywords.json             # 감정 키워드 → 유형 매핑 기준
📂docs
├── rag_doc_house.md
├── rag_doc_tree.md
├── rag_doc_person.md
```

---

## 🧠 사용 기술 스택

- 🖼️ YOLOv11: 객체 탐지
- 📐 OpenCV: 시각적 요소 분석
- 🧠 GPT-4o + RAG: 해석 문장 + 챗봇 상담
- 🧾 Markdown & JSON: RAG 문서 및 감정 기준
- 🔁 FastAPI + PostgreSQL: API 서버 & 결과 저장
- 💬 React + Tailwind: 사용자 웹 인터페이스

---

## 👥 팀 구성 (R&R)

- PM/기획: 일정 및 산출물 관리
- AI/ML: GPT + 분류기 개발
- 프론트엔드: 챗봇 UI 및 유저 흐름 구현
- 백엔드: API, DB 연동 및 시스템 설계
- 데이터 엔지니어: HTP 라벨링 및 파이프라인 자동화

---

## 🔗 관련 링크

- 🔗 GitHub: [프로젝트 저장소](https://github.com/SKNETWORKS-FAMILY-AICAMP/SKN12-FINAL-6TEAM)
- 📄 프로젝트 기획서: `0.기획_프로젝트 기획서_거북이상담소.pdf`